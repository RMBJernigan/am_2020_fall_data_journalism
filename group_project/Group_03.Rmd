---
title: "fatal_shootings_data"
author: "Kara Newhouse, Jack Hogan, Audrey Widodo, Sasha Marquez" 
date: "10/30/2020"
output: 
  html_document:
    code_folding: hide
    toc: true
    toc_depth: 3
    toc_float: true
    df_print: paged
  md_document:
    variant: markdown_github
    toc: true
    toc_depth: 3
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introduction

Just write a paragraph where you explain the purpose of this document. REVERSE ENGINEER THE STORY. [Nearly 250 women have been fatally shot by police since 2015](https://www.washingtonpost.com/graphics/2020/investigations/police-shootings-women/)

DATA HAS BEEN UPDATED SINCE POST RAN STORY, SO OUR FINDINGS SLIGHTLY DIFFERENT. 

## Load libraries

```{r}
# Load tidyverse for general data analysis 
library(tidyverse)

```
```

## Load and clean data
DESCRIPTION OF WHAT THE DATA IS, WHERE YOU GOT IT, WHAT IT INCLUDES, INCLUDING A LIST OF WHAT EACH FIELD IS. 

* name | character | name of person shot by police
```{r}

fatal_shootings <- read_csv("fatal-police-shootings-data.csv")

```

## Examine data
```{r}

glimpse(fatal_shootings)

```

## Analysis

### Finding 1

“Since The Washington Post began tracking fatal shootings by police in 2015, officers have fatally shot 247 women out of the more than 5,600 people killed overall.”

```{r}

#Select fatal_shootings data frame AND THEN
fatal_shootings %>%
#Arrange the data frame by date from earliest to latest AND THEN   
  arrange(date) %>%
#Select just the data column to display   
  select(date)

#The Washington Post's first data point is from January 2, 2015.

```
```{r}

#Create new data frame called women_only_fatal_police_shootings from the fatal_shootings data frame AND THEN
women_only_fatal_police_shootings <- fatal_shootings %>%
#Filter by the gender column for just female ("F") rows AND THEN
  filter(gender == "F") %>%
#Count the number of "F" rows AND THEN
  count()

#Display new data frame
women_only_fatal_police_shootings

#250 women have be shot and killed by police since 2015.

```

```{r}

#Create new data frame called total_fatal_police_shootings from the fatal_shootings data frame AND THEN
total_fatal_police_shootings <- fatal_shootings %>%
#Cout the total number of rows AND THEN
  count()

#Display new data frame
total_fatal_police_shootings

#There are 5680 records in the Post's data set, meaning that 5680 people have been shot and killed by police since the beginning of 2015. 
```

### Finding 2

“Since 2015, Black women have accounted for less than 1 percent of the overall fatal shootings in cases where race was known..."

```{r}
fatal_shootings %>%
  filter(race != "None") %>%
  group_by(race, gender) %>%
  summarize(total_shootings = n()) %>%
  arrange(desc(total_shootings)) %>%
  mutate(race_gender = paste(race, gender, sep = "-")) %>%
  ungroup() %>%
  select(race_gender, total_shootings) %>%
  pivot_wider(names_from = race_gender, values_from = total_shootings) %>%
  mutate(total_shootings = sum(c_across(`W-M`:`W-NA`))) %>%
  select(total_shootings, `B-F`) %>%
  mutate(Black_female_proportion_of_fatal_shootings = `B-F`/total_shootings*100) %>%
  select(Black_female_proportion_of_fatal_shootings)
  
```

"... But within this small subset, Black women, who are 13 percent of the female population, account for 20 percent of the women shot and killed...

```{r}
fatal_shootings %>%
  filter(gender == "F") %>%
  group_by(race, gender) %>%
  summarize(total_shootings = n()) %>%
  arrange(desc(total_shootings)) %>%
  mutate(race_gender = paste(race, gender, sep = "-")) %>%
  ungroup() %>%
  select(race_gender, total_shootings) %>%
  pivot_wider(names_from = race_gender, values_from = total_shootings) %>%
  mutate(total_shootings = sum(c_across(`W-F`:`O-F`))) %>%
  select(total_shootings, `B-F`) %>%
  mutate(Black_female_proportion_of_female_shootings = `B-F`/total_shootings*100) %>%
  select(Black_female_proportion_of_female_shootings)
```

"and 28 percent of the unarmed deaths.”

```{r}
fatal_shootings %>%
  filter(armed == "unarmed") %>%
  filter(gender == "F") %>%
  group_by(armed, race, gender) %>%
  select(armed, race, gender) %>%
  summarize(total_unarmed_shootings = n()) %>%
  mutate(race_gender = paste(race, gender, sep = "-")) %>%
  ungroup() %>%
  select(race_gender, total_unarmed_shootings) %>%
  pivot_wider(names_from = race_gender, values_from = total_unarmed_shootings) %>%
  mutate(total_unarmed_shootings = sum(c_across(`B-F`:`NA-F`))) %>%
  select(total_unarmed_shootings, `B-F`)
  
```


### Finding 3

“The starkest difference between women and men is the rate: Women account for about half the population, but 4 percent of the killings.”

```{r}
women_percentage <- fatal_shootings %>%
  group_by(gender) %>%
  count() %>%
  pivot_wider(names_from = gender , values_from = n) %>%
  mutate(total=`F`+`M`+`NA`) %>%
  mutate(percent_women = `F`/total*100)


women_percentage
```




### Finding 4

"About 31 percent, or 77, of the 247 women fatally shot by police since 2015 had mental health issues, compared to 22 percent of the 5,362 men killed."

```{r}
#Create a new object called "mental_illness_gender." Use data from fatal_shootings. AND THEN
#Group the data by gender and signs of mental illness. AND THEN
#Count. This tells us the number of people with or without mental illness for each gender. AND THEN
#Using the pivot_wider function, reshape the data frame. In this case, we want to see columns with the names from the mental illness categories and values from the counts. AND THEN
#Rename the mental illness categories so that the "true" column becomes "mental_illness" and the "false" column becomes "no_mental_illness." AND THEN
#Add a new column called "total" that sums the count for both mental illness categories within each gender. AND THEN
#Add a new column called "pct_mental_illness" that divides the total individuals with mental illness for each gender by the overall total for each gender. Multiply by 100 to obtain a percentage. AND THEN
#Select the columns "gender" and "pct_mental_illness" to view only the relevant information for this question.
mental_illness_gender <- fatal_shootings %>%
  group_by(gender, signs_of_mental_illness) %>%
  count() %>%
  pivot_wider(names_from=signs_of_mental_illness, values_from=n)%>%
  rename(mental_illness = `TRUE`, 
         no_mental_illness = `FALSE`) %>%
  mutate(total=no_mental_illness+mental_illness) %>%
  mutate(pct_mental_illness = mental_illness/total*100) %>%
  select(gender, pct_mental_illness)
mental_illness_gender 
```
